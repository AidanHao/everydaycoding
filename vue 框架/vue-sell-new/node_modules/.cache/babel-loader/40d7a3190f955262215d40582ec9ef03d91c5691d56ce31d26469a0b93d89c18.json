{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-58de782f\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"goods\"\n};\nvar _hoisted_2 = {\n  \"class\": \"goods-content\"\n};\nvar _hoisted_3 = {\n  \"class\": \"menu-wrapper\",\n  ref: \"menuWrapper\"\n};\nvar _hoisted_4 = [\"onClick\"];\nvar _hoisted_5 = {\n  \"class\": \"text\"\n};\nvar _hoisted_6 = {\n  \"class\": \"foods-wrapper\",\n  ref: \"foodsWrapper\"\n};\nvar _hoisted_7 = {\n  \"class\": \"title\"\n};\nvar _hoisted_8 = {\n  \"class\": \"pic\"\n};\nvar _hoisted_9 = [\"src\"];\nvar _hoisted_10 = {\n  \"class\": \"content\"\n};\nvar _hoisted_11 = {\n  \"class\": \"name\"\n};\nvar _hoisted_12 = {\n  \"class\": \"desc\"\n};\nvar _hoisted_13 = {\n  \"class\": \"extra\"\n};\nvar _hoisted_14 = {\n  \"class\": \"count\"\n};\nvar _hoisted_15 = {\n  \"class\": \"price\"\n};\nvar _hoisted_16 = {\n  \"class\": \"now\"\n};\nvar _hoisted_17 = {\n  key: 0,\n  \"class\": \"old\"\n};\nvar _hoisted_18 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"cart-wrapper\"\n  }, \"购物车\", -1 /* HOISTED */);\n});\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SupportIcon = _resolveComponent(\"SupportIcon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.goods, function (item, index) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      \"class\": _normalizeClass([\"menu-item\", {\n        'current': $data.currentIndex === index\n      }]),\n      key: index,\n      onClick: function onClick($event) {\n        return $options.selectMenu(index);\n      }\n    }, [_createElementVNode(\"span\", _hoisted_5, [item.type >= 0 ? (_openBlock(), _createBlock(_component_SupportIcon, {\n      key: 0,\n      size: \"3\",\n      type: item.type\n    }, null, 8 /* PROPS */, [\"type\"])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)])], 10 /* CLASS, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), _createCommentVNode(\" ref给Dom结构打一个标记 \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ul\", null, [_createCommentVNode(\" 一个菜系 \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.goods, function (item, index) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      \"class\": \"food-list\",\n      key: index,\n      ref_for: true,\n      ref: \"foodList\"\n    }, [_createElementVNode(\"h1\", _hoisted_7, _toDisplayString(item.name), 1 /* TEXT */), _createCommentVNode(\" 一道道菜 \"), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.foods, function (item2, index2) {\n      return _openBlock(), _createElementBlock(\"li\", {\n        \"class\": \"food-item\",\n        key: index2\n      }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"img\", {\n        src: item2.image,\n        alt: \"\"\n      }, null, 8 /* PROPS */, _hoisted_9)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h2\", _hoisted_11, _toDisplayString(item2.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_12, _toDisplayString(item2.description), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"span\", _hoisted_14, \"月售\" + _toDisplayString(item2.sellcout) + \"份\", 1 /* TEXT */), _createElementVNode(\"span\", null, \"好评率\" + _toDisplayString(item2.rating) + \"%\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, \"￥\" + _toDisplayString(item2.price), 1 /* TEXT */), item2.oldPrice ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, \"￥\" + _toDisplayString(item2.oldPrice), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" + \")])]);\n    }), 128 /* KEYED_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */)]), _hoisted_18]);\n}","map":{"version":3,"names":["ref","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","goods","item","index","_normalizeClass","currentIndex","key","onClick","$event","$options","selectMenu","_hoisted_5","type","_createBlock","_component_SupportIcon","size","_toDisplayString","name","_createCommentVNode","_hoisted_6","_hoisted_7","foods","item2","index2","_hoisted_8","src","image","alt","_hoisted_10","_hoisted_11","_hoisted_12","description","_hoisted_13","_hoisted_14","sellcout","rating","_hoisted_15","_hoisted_16","price","oldPrice","_hoisted_17","_hoisted_18"],"sources":["C:\\Users\\www16\\Desktop\\培训\\codespace\\vue 框架\\vue-sell-new\\src\\views\\goods\\index.vue"],"sourcesContent":["<template>\n  <div class=\"goods\">\n    <div class=\"goods-content\">\n      <div class=\"menu-wrapper\" ref=\"menuWrapper\">\n        <ul>\n          <li \n            class=\"menu-item\" \n            :class=\"{'current' : currentIndex === index}\"\n            v-for=\"(item, index) in goods\" \n            :key=\"index\"\n            @click=\"selectMenu(index)\"\n          >\n            <span class=\"text\">\n              <SupportIcon size=\"3\" :type=\"item.type\" v-if=\"item.type >= 0\"/>\n              {{item.name}}\n            </span>\n          </li>\n        </ul>\n      </div>  \n      <!-- ref给Dom结构打一个标记 -->\n      <div class=\"foods-wrapper\" ref=\"foodsWrapper\">\n        <ul>\n          <!-- 一个菜系 -->\n          <li class=\"food-list\" v-for=\"(item,index) in goods\" :key=\"index\" ref=\"foodList\">\n              <h1 class=\"title\">{{ item.name }}</h1>\n              <!-- 一道道菜 -->\n              <ul>\n                <li class=\"food-item\"  v-for=\"(item2 ,index2) in item.foods\" :key=\"index2\" >\n                  <div class=\"pic\">\n                    <img :src=\"item2.image\" alt=\"\">\n                  </div>\n                  <div class=\"content\">\n\n                    <h2 class=\"name\">{{ item2.name }}</h2>\n\n                    <p class=\"desc\">{{ item2.description }}</p>\n\n                    <div class=\"extra\">\n                      <span class=\"count\">月售{{ item2.sellcout }}份</span>\n                      <span>好评率{{item2.rating}}%</span>\n                    </div>\n\n                    <div class=\"price\">\n                      <span class=\"now\">￥{{ item2.price  }}</span>\n                      <span class=\"old\" v-if=\" item2.oldPrice \">￥{{ item2.oldPrice }}</span>\n                    </div>\n                    <!-- + -->\n                  </div>\n                </li>\n              </ul>\n\n          </li>\n        </ul>\n      </div>\n    </div>\n    \n    <div class=\"cart-wrapper\">购物车</div>\n  </div>\n</template>\n\n<script>\nimport { getGoods } from '@/api'\nimport SupportIcon from '@/components/support-icon/Support-icon.vue'\nimport BScroll from '@better-scroll/core'\n\nexport default {\n  components: {\n    SupportIcon\n  },\n  data() {\n    return {\n      goods: [],\n      currentIndex: 0,\n      foodsScroll:{},//用来代表被BScroll修饰的Dom结构\n    }\n  },\n  created() {\n    // 获取商品数据\n    getGoods().then(res => {\n      console.log(res);\n      this.goods = res\n      \n      this.$nextTick(() => { // $nextTick里面的回调会在页面加载完毕之后才执行 $是vue自带的方法\n        this.betterScroll()\n      })\n    })\n  },\n  methods: {\n    betterScroll() {\n      // 获取到menu-wrapper的dom结构\n      // $官方自带的\n      new BScroll(this.$refs.menuWrapper, {\n        click: true,\n        \n      })\n      // 被BScroll修饰之后的dom结构\n      this.foodsScroll=new BScroll(this.$refs.foodsWrapper,{\n        // 默认把所有点击事件干掉了 click:true 强行添加一个点击事件 \n        click:true,\n        scrollY:true,\n        probeType:3\n      })\n      // 给右侧监听上了滚动事件\n      this.foodsScroll.on('scroll',pos => {\n        console.log(pos);\n        Math.abs(pos.y)\n      })\n\n    },\n    selectMenu(i) {\n      // console.log(i);\n      this.currentIndex = i\n      this.foodsScroll.scrollToElement(this.$refs.foodList[i],1000)\n\n\n    },\n\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '@/common/style/variable.less';\n.goods{\n  position: absolute;\n  width: 100%;\n  bottom: 46px;\n  top: 177px;\n  overflow: hidden;\n  &-content{\n    display: flex;\n    height: 100%;\n    .menu-wrapper{\n      flex: 0 0 80px;\n      background: @color-background-ssss;\n      .menu-item{\n        padding: 0 14px;\n        font-size: @fontsize-small;\n        height: 54px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        &.current{\n          background: #fff;\n          font-weight: 700;\n        }\n      }\n    }\n    .foods-wrapper{\n      flex: 1;\n      .title{\n        height: 26px;\n        line-height: 26px;\n        font-size: @fontsize-small;\n        color: rgb(147, 153, 159);\n        background: @color-background-ssss;\n        padding-left: 14px;\n        border-left:2px solid #d9dde1;\n      }\n      .food-item{\n        display: flex;\n        padding:18px ;\n        .pic{\n          flex: 0 0 57px;\n          margin-right: 10px;\n          img{\n            width: 100%;\n          }\n        }\n        .content{\n          flex: 1;\n          .name{\n            font-size: @fontsize-medium;\n            color: rgb(7, 17, 27);\n            margin: 2px 0 8px 0;\n          }\n          .desc, .extra{\n            font-size: @fontsize-small-s;\n            color: rgb(147, 153, 159);\n            margin-bottom: 8px;\n            line-height: 10px;\n            .count{\n              margin-right: 12px;\n            }\n          }\n          .price{\n            // 最大七百\n            font-weight: 700;\n            line-height: 10px;\n            .now{\n              color:@color-red ;\n              font-size: @fontsize-medium;\n              margin-right: 8px;\n            }\n            .old{\n              font-size:@fontsize-small-s ;\n              color: rgb(147, 153, 159);\n              // 拦腰下划线\n              text-decoration: line-through;\n            }\n          }\n        }\n\n      }\n    }\n  }\n\n  .cart-wrapper{\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    height: 48px;\n    background: #aaa;\n  }\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}