{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-58de782f\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"goods\"\n};\nvar _hoisted_2 = {\n  \"class\": \"goods-content\"\n};\nvar _hoisted_3 = {\n  \"class\": \"menu-wrapper\",\n  ref: \"menuWrapper\"\n};\nvar _hoisted_4 = [\"onClick\"];\nvar _hoisted_5 = {\n  \"class\": \"text\"\n};\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"foods-wrapper\"\n  }, [/*#__PURE__*/_createElementVNode(\"ul\", null, [/*#__PURE__*/_createElementVNode(\"li\", {\n    \"class\": \"food-list\"\n  }, [/*#__PURE__*/_createElementVNode(\"h1\", {\n    \"class\": \"title\"\n  }, \"热销版\")])])], -1 /* HOISTED */);\n});\nvar _hoisted_7 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    \"class\": \"cart-wrapper\"\n  }, \"购物车\", -1 /* HOISTED */);\n});\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SupportIcon = _resolveComponent(\"SupportIcon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.goods, function (item, index) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      \"class\": _normalizeClass([\"menu-item\", {\n        'current': $data.currentIndex === index\n      }]),\n      key: index,\n      onClick: function onClick($event) {\n        return $options.selectMenu(index);\n      }\n    }, [_createElementVNode(\"span\", _hoisted_5, [item.type >= 0 ? (_openBlock(), _createBlock(_component_SupportIcon, {\n      key: 0,\n      size: \"3\",\n      type: item.type\n    }, null, 8 /* PROPS */, [\"type\"])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)])], 10 /* CLASS, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), _hoisted_6]), _hoisted_7]);\n}","map":{"version":3,"names":["ref","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","goods","item","index","_normalizeClass","currentIndex","key","onClick","$event","$options","selectMenu","_hoisted_5","type","_createBlock","_component_SupportIcon","size","_toDisplayString","name","_hoisted_6","_hoisted_7"],"sources":["C:\\Users\\www16\\Desktop\\培训\\codespace\\vue 框架\\vue-sell-new\\src\\views\\goods\\index.vue"],"sourcesContent":["<template>\n  <div class=\"goods\">\n    <div class=\"goods-content\">\n      <div class=\"menu-wrapper\" ref=\"menuWrapper\">\n        <ul>\n          <li \n            class=\"menu-item\" \n            :class=\"{'current' : currentIndex === index}\"\n            v-for=\"(item, index) in goods\" \n            :key=\"index\"\n            @click=\"selectMenu(index)\"\n          >\n            <span class=\"text\">\n              <SupportIcon size=\"3\" :type=\"item.type\" v-if=\"item.type >= 0\"/>\n              {{item.name}}\n            </span>\n          </li>\n        </ul>\n      </div>  \n      <div class=\"foods-wrapper\">\n        <ul>\n          <li class=\"food-list\">\n              <h1 class=\"title\">热销版</h1>\n          </li>\n        </ul>\n      </div>\n    </div>\n    \n    <div class=\"cart-wrapper\">购物车</div>\n  </div>\n</template>\n\n<script>\nimport { getGoods } from '@/api'\nimport SupportIcon from '@/components/support-icon/Support-icon.vue'\nimport BScroll from '@better-scroll/core'\n\nexport default {\n  components: {\n    SupportIcon\n  },\n  data() {\n    return {\n      goods: [],\n      currentIndex: 0\n    }\n  },\n  created() {\n    // 获取商品数据\n    getGoods().then(res => {\n      console.log(res);\n      this.goods = res\n      \n      this.$nextTick(() => { // $nextTick里面的回调会在页面加载完毕之后才执行\n        this.betterScroll()\n      })\n    })\n  },\n  methods: {\n    betterScroll() {\n      // 获取到menu-wrapper的dom结构\n      new BScroll(this.$refs.menuWrapper, {\n        click: true\n      })\n\n    },\n    selectMenu(i) {\n      // console.log(i);\n      this.currentIndex = i\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '@/common/style/variable.less';\n.goods{\n  position: absolute;\n  width: 100%;\n  bottom: 46px;\n  top: 177px;\n  overflow: hidden;\n  &-content{\n    display: flex;\n    height: 100%;\n    .menu-wrapper{\n      flex: 0 0 80px;\n      background: @color-background-ssss;\n      .menu-item{\n        padding: 0 14px;\n        font-size: @fontsize-small;\n        height: 54px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        &.current{\n          background: #fff;\n          font-weight: 700;\n        }\n      }\n    }\n    .foods-wrapper{\n      flex: 1;\n    }\n  }\n\n  .cart-wrapper{\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    height: 48px;\n    background: #aaa;\n  }\n}\n</style>"],"mappings":";;;;;;EACO,SAAM;AAAO;;EACX,SAAM;AAAe;;EACnB,SAAM,cAAc;EAACA,GAAG,EAAC;;;;EASlB,SAAM;AAAM;;sBAOxBC,mBAAA,CAMM;IAND,SAAM;EAAe,I,aACxBA,mBAAA,CAIK,a,aAHHA,mBAAA,CAEK;IAFD,SAAM;EAAW,I,aACjBA,mBAAA,CAA0B;IAAtB,SAAM;EAAO,GAAC,KAAG,E;;;sBAM/BA,mBAAA,CAAmC;IAA9B,SAAM;EAAc,GAAC,KAAG;AAAA;;;uBA3B/BC,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJF,mBAAA,CAwBM,OAxBNG,UAwBM,GAvBJH,mBAAA,CAeM,OAfNI,UAeM,GAdJJ,mBAAA,CAaK,c,kBAZHC,mBAAA,CAWKI,SAAA,QAAAC,WAAA,CARqBC,KAAA,CAAAC,KAAK,YAArBC,IAAI,EAAEC,KAAK;yBAHrBT,mBAAA,CAWK;MAVH,SAAKU,eAAA,EAAC,WAAW;QAAA,WACIJ,KAAA,CAAAK,YAAY,KAAKF;MAAK;MAE1CG,GAAG,EAAEH,KAAK;MACVI,OAAK,WAAAA,QAAAC,MAAA;QAAA,OAAEC,QAAA,CAAAC,UAAU,CAACP,KAAK;MAAA;QAExBV,mBAAA,CAGO,QAHPkB,UAGO,GAFyCT,IAAI,CAACU,IAAI,S,cAAvDC,YAAA,CAA+DC,sBAAA;;MAAlDC,IAAI,EAAC,GAAG;MAAEH,IAAI,EAAEV,IAAI,CAACU;6FAA6B,GAC/D,GAAAI,gBAAA,CAAEd,IAAI,CAACe,IAAI,iB;4DAKnBC,UAMM,C,GAGRC,UAAmC,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}