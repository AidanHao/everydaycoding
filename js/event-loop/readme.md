# 进程和线程

- 进程：CPU运行指令和保存上下文所需要的时间

- 线程: 进程中的更小的单位，描述了一段指令执行所需的时间

JS引擎线程和浏览器的渲染进程是互斥的，会造成不安全的渲染

## 新开一个tap页面 就是新开一个进程
需要多个线程配合才能完成页面的展示
1. 渲染线程(GPU)
2. http请求线程
3. JS引擎线程

# JS 单线程
优点：
1. 节省内存
2. 单线程没有锁的概念，节约上下文切换的时间(一般多线程的语言有锁的语言)

# 异步
- 宏任务(异步异得很凶)
    宏任务队列(macrotask)：
    以下必定是异步
    script
    setTimeout
    setInterval
    setImmediate(dom结构加载完毕了就会执行)
    I/O(输入输出事件)
    UI-rendering 页面渲染 重要

- 微任务(微微耗时)
    微任务队列(microtask)
    promise.then()
    MutationObserver
    Process.nextTick()

# event-loop 事件循环机制 重要重要 必考
1. 执行同步代码(这属于宏任务)
2. 当执行栈为空，去查询是否有异步代码需要执行
3. 执行微任务
4. 如果有需要，会渲染页面d
5. 执行宏任务,(这也叫下一轮的event-loop的开启)

面试：进程和线程有什么区别？
面试：js是单线程，为什么不设计成多线程的？
设计之初是浏览器的脚本语言，多线程 高并发高功耗,多线程运行的时候会多占一些内存，是为了遏制同时干多个事情的能力，节约进程内存的开销，

渲染线程(GPU) 和 js引擎线程是互斥的 (因为JS也能设置html结构，会造成不安全的渲染)
因为JS是单线程的

v8在执行的时候的，遇到一个异步代码，就会挂起来，继续往下执行，再回头来执行

理解：v8执行js就相当于一个进程，进程里面，V8预编译，执行代码就相当于一个线程。v8就是单线程的

GPU在渲染页面的过程叫做渲染进程,为什么不叫进程，因为它只是页面展开的一个过程,
HTTP的请求线程
JS引擎线程

一个进程当中有多个线程在配合工作

单线程：比较抽象
什么是线程
线程是进程里面更小的单位
理解线程：打开一个tap页面，输入一个url回车到页面展现的过程，面试：这中间发生了什么
浏览器的页面的加载称之为页面的渲染,
浏览器有一个东西叫GPU 具有绘制功能，再浏览器页面上绘制出来，找到哪个物理发光点应该亮什么灯,可以理解为一个画笔，作用就是把整个页面画出来

什么是进程,不是一个绝对的描述，是相对的描述,单进程太low了，浏览器多开一个窗口就是多开一个进程,
进程：CPU的一个工作时间片

面试问？微任务一定会先比宏任务先执行嘛？
不对，第一次宏任务就先在微任务之前执行，同步执行也归属于宏任务